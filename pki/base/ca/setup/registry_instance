# Establish PKI Variable "Slot" Substitutions

PKI_FLAVOR=[PKI_FLAVOR]
export PKI_FLAVOR

PKI_SUBSYSTEM_TYPE=[PKI_SUBSYSTEM_TYPE]
export PKI_SUBSYSTEM_TYPE

PKI_USER=[PKI_USER]
export PKI_USER

PKI_GROUP=[PKI_GROUP]
export PKI_GROUP

PKI_INSTANCE_ID=[PKI_INSTANCE_ID]
export PKI_INSTANCE_ID

PKI_INSTANCE_PATH=[PKI_INSTANCE_PATH]
export PKI_INSTANCE_PATH

PKI_INSTANCE_INITSCRIPT=[PKI_INSTANCE_INITSCRIPT]
export PKI_INSTANCE_INITSCRIPT

PKI_SERVER_XML_CONF=[PKI_SERVER_XML_CONF]
export PKI_SERVER_XML_CONF

# Use CATALINA_BASE

CATALINA_BASE=$PKI_INSTANCE_PATH
export CATALINA_BASE

TOMCAT_PROG=$PKI_INSTANCE_ID
export TOMCAT_PROG

TOMCAT_USER=$PKI_USER
export TOMCAT_USER

TOMCAT_GROUP=$PKI_GROUP
export TOMCAT_GROUP


# Since the daemon function will sandbox $tomcat
# no environment stuff should be defined here anymore.
# Please use the ${PKI_INSTANCE_PATH}/conf/tomcat5.conf
# file instead ; it will be read by the $tomcat script

PKI_LOCKDIR="/var/lock/${PKI_FLAVOR}/${PKI_SUBSYSTEM_TYPE}"
export PKI_LOCKDIR

PKI_LOCKFILE="${PKI_LOCKDIR}/${PKI_INSTANCE_ID}.pid"
export PKI_LOCKFILE

TOMCAT_PIDFILE=[TOMCAT_PIDFILE]
export TOMCAT_PIDFILE

pki_instance_configuration_file=${PKI_INSTANCE_PATH}/conf/CS.cfg
export pki_instance_configuration_file

RESTART_SERVER=${PKI_INSTANCE_PATH}/conf/restart_server_after_configuration
export RESTART_SERVER
