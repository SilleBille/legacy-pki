<!-- --- BEGIN COPYRIGHT BLOCK ---
     This library is free software; you can redistribute it and/or
     modify it under the terms of the GNU Lesser General Public
     License as published by the Free Software Foundation; either
     
     This library is distributed in the hope that it will be useful,
     but WITHOUT ANY WARRANTY; without even the implied warranty of
     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
     Lesser General Public License for more details.
     
     You should have received a copy of the GNU Lesser General Public
     License along with this library; if not, write to the Free Software
     Foundation, Inc., 51 Franklin Street, Fifth Floor,
     Boston, MA  02110-1301  USA 
     
     Copyright (C) 2007 Red Hat, Inc.
     All rights reserved.
     --- END COPYRIGHT BLOCK --- -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel=stylesheet href="/so/style.css" type="text/css">

<title>Enrollment</title>
</head>
<script type="text/JavaScript" src="/so/util.js">
</script>

<script type="text/javascript">
<!--
function UserSelectRowByKeyID(keyType, keyID)
{
  DoCoolKeySetConfigValue("Operation-" + keyID,
           "http://$host:$port/nk_service");
  DoCoolKeySetConfigValue("TokenType-" + keyID, "userKey");
  SelectRowByKeyID(keyType, keyID);
}

function UserOnDoneInitializeBindingTable()
{
  var arr = GetAvailableCOOLKeys();
  var i;
  for (i=0; i < arr.length; i++)
  {
    var keyType = arr[i][0];
    var keyID = arr[i][1];
    var keyStatus = GetStatusForKeyID(keyType, keyID);
    UserSelectRowByKeyID(keyType, keyID);
  }
}

// -->
</script>

<body onload="InitializeBindingTable();" onunload=cleanup()>

<progressmeter id="progress-id" hidden="true" align = "center"/>
<table width="100%" class="logobar">
  <tr>
    <td>
<img alt="" src="/so/logo.jpg">
    </td>
    <td>
      <p class="headerText">Security Officer Enrollment</p>
    </td>
  </tr>
</table>
  <table id="BindingTable" width="200px"align="center">
    <tr id="HeaderRow">
    </tr>
  </table>
  <p class="bodyText">You have plugged in your smartcard! After answering a few easy questions, you will be able to use your smartcard.
  </p>
  <p class="bodyText"> 
      Now we would like you to identify yourself.
   </p>  
    <table>
      <tr>
        <td><p >LDAP User ID: </p></td>
        <td> </td>
        <td><input type="text" id="snametf"  value=""></td>
         <td> </td>
        <td><p>LDAP Password: </p></td>
         <td> </td>
        <td><input type="password" id="snamepwd" value=""></td>
      </tr>

      </table>

      <p class="bodyText"> Before you can use your smartcard, you will need a password to protect it.</p> 
      <table>
      <tr>
        <td><p >Password:</p></td>
        <td><input type="password" id="pintf" name="pintf" value=""></td>

        <td><p >Re-Enter Password:</p></td>
        <td><input type="password" id="reenterpintf" name="reenterpintf" value=""></td>
    </table>
    <br>
    <table width="100%">
      <tr>
        <td align="right">
          <input type="button" id="enrollbtn" name="enrollbtn" value="Enroll My Smartcard" onClick="DoEnrollCOOLKey();">
        </td>
      </tr>
    </table>
</body></html>
