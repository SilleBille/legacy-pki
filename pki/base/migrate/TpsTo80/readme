Date

  Tue May 12 14:37:14 EDT 2009

Version

  CMS 8.0

Overview

  In CMS8.0, the database schema for the TPS has changed.  The following 
  changes were made:
  1. The objectclass of the LDAP groups TUS Administrators, TUS Agents and TUS Officers has been 
     changed from groupOfUniqueNames to groupOfNames.  This also means that the attribute "uniqueMember"
     must change to "member".
  2. The dn of the TUS Administrators group was originally misspelled.  This has been fixed.
  3. A tokenType field has been added to the tokenRecord and tokenActivity tables.
  4. Users that have administrator, admin or officer access to the TUS are stored under ou=People, $basedn.
     These users now require an auxilliary class tpsProfileId to be added, with the attribute profileID.
     This multi-valued attribute profileID contains profiles for which this user has access in the TPS UI
     pages.  See the admin guide for more details.  Because the previous versions of the TPS allowed 
     access to all profiles, a value for "All Profiles" will be added for all users by the migrateTpsData
     program.  If this is not desired, change the access of specific users using the UI.
 
Program

  migrateTpsData(.x86_64 or .i386) will perform the above operations on an LDIF file and create a new 
  output LDIF file with the appropriate data to be imported into the new TPS instance.  The input LDIF
  file can be generated by running db2ldif on the old database for suffix containing the TPS data.

  The program requires two arguments - the location of the LDIF file containing a dump of the old data,
  and the location of the output file. 

  Any errors reported by the program should be investigated and fixed in the output LDIF file.  Once 
  this file is corrected, it can be imported into the new TPS database.

  Note: This program should be run to migrate data into a configured TPS system.

Example

  Here is an example of migrateTpsData usage
  (for x86_64) 
      migrateTpsData.x86_64 old.ldif new.ldif

